<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Tips to Improve Your ggplot Workflow | Graphic Design with ggplot2</title>
  <meta name="description" content="Create Beautiful and Engaging Data Visualizations in R" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Tips to Improve Your ggplot Workflow | Graphic Design with ggplot2" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Create Beautiful and Engaging Data Visualizations in R" />
  <meta name="github-repo" content="z3tt/graphic-design-ggplot2" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Tips to Improve Your ggplot Workflow | Graphic Design with ggplot2" />
  
  <meta name="twitter:description" content="Create Beautiful and Engaging Data Visualizations in R" />
  

<meta name="author" content="Cédric Scherer" />


<meta name="date" content="2023-02-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tips-to-improve-your-ggplot-design.html"/>
<link rel="next" href="working-with-layers.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<script src="libs/kePrint/kePrint.js"></script>
<link href="libs/lightable/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><b>“Graphic Design with ggplot2”</b><br>Written by Cédric Scherer</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-read-this-book"><i class="fa fa-check"></i>Why read this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i>How to read this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information-and-conventions"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#communication"><i class="fa fa-check"></i><b>1.1</b> Communicating Data</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#coding"><i class="fa fa-check"></i><b>1.2</b> Coding Visualizations</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#why"><i class="fa fa-check"></i><b>1.3</b> Why R and <strong>ggplot2</strong></a></li>
</ul></li>
<li class="part"><span><b>I General Overiew</b></span></li>
<li class="chapter" data-level="2" data-path="grammar.html"><a href="grammar.html"><i class="fa fa-check"></i><b>2</b> The Layered Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="grammar.html"><a href="grammar.html#ggplot"><i class="fa fa-check"></i><b>2.1</b> The {ggplot2} Package</a></li>
<li class="chapter" data-level="2.2" data-path="grammar.html"><a href="grammar.html#components"><i class="fa fa-check"></i><b>2.2</b> The Components of a ggplot</a></li>
<li class="chapter" data-level="2.3" data-path="grammar.html"><a href="grammar.html#key-components"><i class="fa fa-check"></i><b>2.3</b> Key Components</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="grammar.html"><a href="grammar.html#data"><i class="fa fa-check"></i><b>2.3.1</b> Data</a></li>
<li class="chapter" data-level="2.3.2" data-path="grammar.html"><a href="grammar.html#aesthetics"><i class="fa fa-check"></i><b>2.3.2</b> Aesthetics</a></li>
<li class="chapter" data-level="2.3.3" data-path="grammar.html"><a href="grammar.html#layers"><i class="fa fa-check"></i><b>2.3.3</b> Layers</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="grammar.html"><a href="grammar.html#additional-components"><i class="fa fa-check"></i><b>2.4</b> Additional Components</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="grammar.html"><a href="grammar.html#scales"><i class="fa fa-check"></i><b>2.4.1</b> Scales</a></li>
<li class="chapter" data-level="2.4.2" data-path="grammar.html"><a href="grammar.html#coords"><i class="fa fa-check"></i><b>2.4.2</b> Coordinate Systems</a></li>
<li class="chapter" data-level="2.4.3" data-path="grammar.html"><a href="grammar.html#facets"><i class="fa fa-check"></i><b>2.4.3</b> Facets</a></li>
<li class="chapter" data-level="2.4.4" data-path="grammar.html"><a href="grammar.html#themes"><i class="fa fa-check"></i><b>2.4.4</b> Themes</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="grammar.html"><a href="grammar.html#showcase"><i class="fa fa-check"></i><b>2.5</b> Showcase</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="get-started.html"><a href="get-started.html"><i class="fa fa-check"></i><b>3</b> Get Started</a>
<ul>
<li class="chapter" data-level="3.1" data-path="get-started.html"><a href="get-started.html#dataset"><i class="fa fa-check"></i><b>3.1</b> The Data Set</a></li>
<li class="chapter" data-level="3.2" data-path="get-started.html"><a href="get-started.html#rstats"><i class="fa fa-check"></i><b>3.2</b> Working in R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="get-started.html"><a href="get-started.html#import"><i class="fa fa-check"></i><b>3.2.1</b> Import data</a></li>
<li class="chapter" data-level="3.2.2" data-path="get-started.html"><a href="get-started.html#workflows"><i class="fa fa-check"></i><b>3.2.2</b> Project-oriented workflows</a></li>
<li class="chapter" data-level="3.2.3" data-path="get-started.html"><a href="get-started.html#inspect"><i class="fa fa-check"></i><b>3.2.3</b> Inspect data</a></li>
<li class="chapter" data-level="3.2.4" data-path="get-started.html"><a href="get-started.html#classes"><i class="fa fa-check"></i><b>3.2.4</b> Data types</a></li>
<li class="chapter" data-level="3.2.5" data-path="get-started.html"><a href="get-started.html#preparation"><i class="fa fa-check"></i><b>3.2.5</b> Data preparation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="walkthrough.html"><a href="walkthrough.html"><i class="fa fa-check"></i><b>4</b> A Walk-through Example</a>
<ul>
<li class="chapter" data-level="4.1" data-path="walkthrough.html"><a href="walkthrough.html#prep-ggplot"><i class="fa fa-check"></i><b>4.1</b> Prerequisites</a></li>
<li class="chapter" data-level="4.2" data-path="walkthrough.html"><a href="walkthrough.html#basics"><i class="fa fa-check"></i><b>4.2</b> Create a basic ggplot</a></li>
<li class="chapter" data-level="4.3" data-path="walkthrough.html"><a href="walkthrough.html#combined-layers"><i class="fa fa-check"></i><b>4.3</b> Combine multiple layers</a></li>
<li class="chapter" data-level="4.4" data-path="walkthrough.html"><a href="walkthrough.html#map-aesthetics"><i class="fa fa-check"></i><b>4.4</b> Mapping aesthetics in layers</a></li>
<li class="chapter" data-level="4.5" data-path="walkthrough.html"><a href="walkthrough.html#set-properties"><i class="fa fa-check"></i><b>4.5</b> Setting properties in layers</a></li>
<li class="chapter" data-level="4.6" data-path="walkthrough.html"><a href="walkthrough.html#faceting"><i class="fa fa-check"></i><b>4.6</b> Create small multiples</a></li>
<li class="chapter" data-level="4.7" data-path="walkthrough.html"><a href="walkthrough.html#axis-scaling"><i class="fa fa-check"></i><b>4.7</b> Change the axis scaling</a></li>
<li class="chapter" data-level="4.8" data-path="walkthrough.html"><a href="walkthrough.html#color-scaling"><i class="fa fa-check"></i><b>4.8</b> Use a custom color palette</a></li>
<li class="chapter" data-level="4.9" data-path="walkthrough.html"><a href="walkthrough.html#label-adjustment"><i class="fa fa-check"></i><b>4.9</b> Adjust labels</a></li>
<li class="chapter" data-level="4.10" data-path="walkthrough.html"><a href="walkthrough.html#complete-themes"><i class="fa fa-check"></i><b>4.10</b> Apply a complete theme</a></li>
<li class="chapter" data-level="4.11" data-path="walkthrough.html"><a href="walkthrough.html#custom-theming"><i class="fa fa-check"></i><b>4.11</b> Customize the theme</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tips-to-improve-your-ggplot-design.html"><a href="tips-to-improve-your-ggplot-design.html"><i class="fa fa-check"></i><b>5</b> Tips to Improve Your ggplot Design</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tips-to-improve-your-ggplot-design.html"><a href="tips-to-improve-your-ggplot-design.html#use-a-different-theme"><i class="fa fa-check"></i><b>5.1</b> Use a Different Theme</a></li>
<li class="chapter" data-level="5.2" data-path="tips-to-improve-your-ggplot-design.html"><a href="tips-to-improve-your-ggplot-design.html#use-a-custom-font"><i class="fa fa-check"></i><b>5.2</b> Use a Custom Font</a></li>
<li class="chapter" data-level="5.3" data-path="tips-to-improve-your-ggplot-design.html"><a href="tips-to-improve-your-ggplot-design.html#increase-the-font-sizes"><i class="fa fa-check"></i><b>5.3</b> Increase the Font Sizes</a></li>
<li class="chapter" data-level="5.4" data-path="tips-to-improve-your-ggplot-design.html"><a href="tips-to-improve-your-ggplot-design.html#create-text-hierarchy"><i class="fa fa-check"></i><b>5.4</b> Create Text Hierarchy</a></li>
<li class="chapter" data-level="5.5" data-path="tips-to-improve-your-ggplot-design.html"><a href="tips-to-improve-your-ggplot-design.html#legend-styling"><i class="fa fa-check"></i><b>5.5</b> Legend Styling</a></li>
<li class="chapter" data-level="5.6" data-path="tips-to-improve-your-ggplot-design.html"><a href="tips-to-improve-your-ggplot-design.html#align-titles-and-captions"><i class="fa fa-check"></i><b>5.6</b> Align Titles and Captions</a></li>
<li class="chapter" data-level="5.7" data-path="tips-to-improve-your-ggplot-design.html"><a href="tips-to-improve-your-ggplot-design.html#add-some-white-space"><i class="fa fa-check"></i><b>5.7</b> Add Some White Space</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html"><i class="fa fa-check"></i><b>6</b> Tips to Improve Your ggplot Workflow</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#save-ggplot-output-with-the-correct-dimensions"><i class="fa fa-check"></i><b>6.1</b> Save ggplot Output with the “Correct” Dimensions</a></li>
<li class="chapter" data-level="6.2" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#display-ggplot-output-with-the-correct-dimensions"><i class="fa fa-check"></i><b>6.2</b> Display ggplot Output with the “Correct” Dimensions</a></li>
<li class="chapter" data-level="6.3" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#make-fonts-work"><i class="fa fa-check"></i><b>6.3</b> Make Fonts Work</a></li>
<li class="chapter" data-level="6.4" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#set-your-ggplot-theme-globally"><i class="fa fa-check"></i><b>6.4</b> Set Your ggplot Theme Globally</a></li>
<li class="chapter" data-level="6.5" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#create-your-own-theme"><i class="fa fa-check"></i><b>6.5</b> Create Your Own Theme</a></li>
<li class="chapter" data-level="6.6" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#improve-your-ggplot-design"><i class="fa fa-check"></i><b>6.6</b> Improve Your ggplot Design</a></li>
<li class="chapter" data-level="6.7" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#remove-panel-padding"><i class="fa fa-check"></i><b>6.7</b> Remove Panel Padding</a></li>
<li class="chapter" data-level="6.8" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#legend-styling-1"><i class="fa fa-check"></i><b>6.8</b> Legend Styling</a></li>
<li class="chapter" data-level="6.9" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#align-titles-and-captions-1"><i class="fa fa-check"></i><b>6.9</b> Align Titles and Captions</a></li>
<li class="chapter" data-level="6.10" data-path="tips-to-improve-your-ggplot-workflow.html"><a href="tips-to-improve-your-ggplot-workflow.html#add-some-white-space-1"><i class="fa fa-check"></i><b>6.10</b> Add Some White Space</a></li>
</ul></li>
<li class="part"><span><b>II How To Work with Components</b></span></li>
<li class="chapter" data-level="7" data-path="working-with-layers.html"><a href="working-with-layers.html"><i class="fa fa-check"></i><b>7</b> Working with Layers</a>
<ul>
<li class="chapter" data-level="7.1" data-path="working-with-layers.html"><a href="working-with-layers.html#geometrical-shapes"><i class="fa fa-check"></i><b>7.1</b> Geometrical Shapes</a></li>
<li class="chapter" data-level="7.2" data-path="working-with-layers.html"><a href="working-with-layers.html#statistical-transformations"><i class="fa fa-check"></i><b>7.2</b> Statistical Transformations</a></li>
<li class="chapter" data-level="7.3" data-path="working-with-layers.html"><a href="working-with-layers.html#positional-adjustments"><i class="fa fa-check"></i><b>7.3</b> Positional Adjustments</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="working-with-colors.html"><a href="working-with-colors.html"><i class="fa fa-check"></i><b>8</b> Working with Colors</a></li>
<li class="chapter" data-level="9" data-path="working-with-text.html"><a href="working-with-text.html"><i class="fa fa-check"></i><b>9</b> Working with Text</a></li>
<li class="part"><span><b>III Advanced Walk-Through Examples</b></span></li>
<li class="chapter" data-level="10" data-path="advanced-examples.html"><a href="advanced-examples.html"><i class="fa fa-check"></i><b>10</b> Overview</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="more-to-say.html"><a href="more-to-say.html"><i class="fa fa-check"></i><b>A</b> More to Say</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<hr class="grey"><li><i><a href="https://bookdown.org" target="blank">Published with bookdown</a></i></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Graphic Design with ggplot2</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tips-to-improve-your-ggplot-workflow" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Tips to Improve Your ggplot Workflow<a href="tips-to-improve-your-ggplot-workflow.html#tips-to-improve-your-ggplot-workflow" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>When designing graphics with a code-based software, changes in the code need to be rendered to a graphical output to see the actual changes. The process of saving the graphic successfully in the desired format and being able to quickly inspect the adjustments are often a main source of frustration. The first tips thus cover how-to’s on saving your ggplot output in the correct dimension, improving the iterative design process, and embedding non-default typefaces.</p>
<p>A benefit of a code-based graphics software is the ability to automate steps to avoid redundant code and allow for consistency. By adjusting the default settings, reusing code or even writing your own helper functions and themes rather than typing the same code again and again enables one to work more efficiently while preventing mistakes and inconsistencies.</p>
<div id="save-ggplot-output-with-the-correct-dimensions" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Save ggplot Output with the “Correct” Dimensions<a href="tips-to-improve-your-ggplot-workflow.html#save-ggplot-output-with-the-correct-dimensions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One of the most common question I hear is “how do I save the plot in a way that it looks as in the RStudio Plots pane?”. As the Plots pane in RStudio is responsive, it will redraw the plot with new dimensions every time you resize the pane. Consequently, the relative size of geometries and theme elements changes as well. Also, the dimensions of the plot shown are not obvious so you may end up in a loop of guessing the right measurements and adjusting the sizes, margins, widths of your components.</p>
<p>For sure, the iteration of adjusting sizes and position is one of the most annoying and elaborate tasks when designing graphics with <strong>ggplot2</strong>. And most ggplot users will painfully remember the moment when a plot saved to disk looks absolutely nothing as it did in the Plots pane. So how can we avoid this time-consuming task?</p>
<p><strong><em>Don’t rely on the preview and decide on the dimensions before polishing:</em></strong> Once you are moving from exploring the data and potential visualizations to creating your final polished graphic, save the plot to disk in the desired width and height. By default, the dimensions are in inches.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;plot.png&quot;</span>, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">8</span>)</span>
<span id="cb55-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;plot.png&quot;</span>, <span class="at">width =</span> <span class="dv">30</span>, <span class="at">height =</span> <span class="dv">20</span>, <span class="at">unit =</span> <span class="st">&quot;cm&quot;</span>)</span></code></pre></div>
<p>From now on, stick to this dimension and adjust the components after inspecting the saved graphic. Of course, you can adjust the dimensions afterwards. Slight changes will have no big impact on the relative sizes; otherwise, you may have to resize some of your components.</p>
<p>If you are saving raster files such as .png and .jpeg, make sure to set the desired resolution by setting <code>dpi</code>. For web applications, images usually should be of low resolution to avoid long loading times (72 dpi is the general recommendation) while graphics used for print should be of high resolution of 300 dpi or more. The default in <code>ggsave()</code> is 300 dpi.</p>
</div>
<div id="display-ggplot-output-with-the-correct-dimensions" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Display ggplot Output with the “Correct” Dimensions<a href="tips-to-improve-your-ggplot-workflow.html#display-ggplot-output-with-the-correct-dimensions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The iterative process of adjusting your graphic, saving it to disk, navigating to the folder, and looking at the plot is a tedious one. To avoid the additional workload, you can optimize your workflow by previewing your graphic in the correct dimensions without leaving RStudio.</p>
<p><strong><em>Work in Quarto (.qmd) or Rmarkdown (.rmd) files to inspect your plots in-line:</em></strong> In qmd and rmd formats, code is run inside individual chunks for which you can define figure dimensions by setting <code>fig.width</code> or <code>fig.height</code> as chunk options <a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb56-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb56-1" aria-hidden="true" tabindex="-1"></a>```{r, fig.width=12, fig.height=8}</span>
<span id="cb56-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb56-2" aria-hidden="true" tabindex="-1"></a>```</span></code></pre></div>
<p>When a chunk is executed, the in-line plot output will respect these settings. When saving the file with <code>ggsave()</code>, make sure to use the same width and height. By default, the units in both chunk settings and <code>ggsave()</code> are in inches.</p>
<p><strong>Use the camcorder package to automatically save and display your graphics:</strong> The <a href="https://thebioengineer.github.io/camcorder/"><strong>camcorder</strong> package</a> <span class="citation">(<a href="#ref-camcorder" role="doc-biblioref">Hughes 2022</a>)</span> is an R package that automatically saves graphics generated with <strong>ggplot2</strong> with custom settings. The package allows you to inspect the ggplot output directly in RStudio by displaying the saved graphic in the Viewer pane. As each graphic is saved automatically, running <code>ggsave()</code> after every adjustment becomes obsolote—another time-saver!</p>
<p>You initiate a recoding by calling <code>gg_record()</code> with the desired path to save the plots to and image settings as you specify them in <code>ggsave()</code>:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;camcorder&quot;</span>)</span>
<span id="cb57-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-3" aria-hidden="true" tabindex="-1"></a>camcorder<span class="sc">::</span><span class="fu">gg_record</span>(</span>
<span id="cb57-4"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">dir =</span> <span class="st">&quot;./plots&quot;</span>, <span class="do">## where to save the recording</span></span>
<span id="cb57-5"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">device =</span> <span class="st">&quot;png&quot;</span>,  <span class="do">## device to use to save images</span></span>
<span id="cb57-6"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">12</span>,      <span class="do">## width of saved image</span></span>
<span id="cb57-7"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">8</span>,      <span class="do">## height of saved image</span></span>
<span id="cb57-8"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">dpi =</span> <span class="dv">300</span>        <span class="do">## dpi to use when saving image</span></span>
<span id="cb57-9"><a href="tips-to-improve-your-ggplot-workflow.html#cb57-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>If you want to change some settings later, use <code>gg_resize_film()</code>:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb58-1" aria-hidden="true" tabindex="-1"></a>camcorder<span class="sc">::</span><span class="fu">gg_resize_film</span>(<span class="at">width =</span> <span class="fl">12.5</span>)</span></code></pre></div>
<p>The original purpose of <strong>camcorder</strong> is the generation of a GIF that showcases every step of the design process using the saved image files. If you want to create such an animation, run <code>gg_playback()</code>:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb59-1" aria-hidden="true" tabindex="-1"></a>camcorder<span class="sc">::</span><span class="fu">gg_playback</span>(<span class="at">name =</span> <span class="st">&quot;./plots/process.gif&quot;</span>)</span></code></pre></div>
</div>
<div id="make-fonts-work" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Make Fonts Work<a href="tips-to-improve-your-ggplot-workflow.html#make-fonts-work" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong><em>Use the systemfonts package to find and use typefaces:</em></strong> As discussed in the previous chapter, the <strong>systemfonts</strong> package is likely the preferred approach to work with fonts. To search for a font file on your system use <code>match_font()</code>. You can inspect all available typefaces via <code>system_fonts()</code>.</p>
<p>A common issue is the rendering of custom typefaces and special characters such as mathematical symbols, unusual glyphs, and emojis.</p>
<p><strong><em>If you are saving your graphics as PNG raster images use the agg_png device:</em></strong> The best-performing device to render your ggplot output successfully are the agg devices. In recent versions, this device is the default in <code>ggsave()</code> in case the <strong>ragg</strong> package is installed. It also features agg devices for other raster formats such as JPEG and TIFF.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ragg)</span>
<span id="cb60-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;plot.png&quot;</span>, <span class="at">device =</span> agg_png)</span></code></pre></div>
<p>To make fonts work in the RStudio Plots pane, select the AGG device as default for the graphics backend by navigating to <code>Tools &gt; Global Options... &gt; General &gt; Graphics</code>.</p>
<p><strong><em>If you are saving your graphics as PDF vector graphics use the cairo_pdf device:</em></strong> I prefer to dave my files as lossless vector graphics. The device known to work best for rendering is the Cairo device which needs to be secified as <code>device = cairo_pdf</code>. Mac users need to install <a href="https://www.xquartz.org/">XQuartz</a> which is needed to use the Cairo device.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;plot.pdf&quot;</span>, <span class="at">device =</span> cairo_pdf)</span></code></pre></div>
</div>
<div id="set-your-ggplot-theme-globally" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Set Your ggplot Theme Globally<a href="tips-to-improve-your-ggplot-workflow.html#set-your-ggplot-theme-globally" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Instead of applying and customizing a theme for each of your ggplots, you can set your theme once and it will be used for all future ggplot output by passing a complete theme to <code>theme_set()</code>.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span></code></pre></div>
<p>Let’s see how a plot using <code>theme_minimal()</code> looks like—note that we do not apply the theme to the plot itself.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> </span>
<span id="cb63-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> humidity, <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb63-3"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> day_night), <span class="at">alpha =</span> .<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb63-4"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="do">## style labels and colors</span></span>
<span id="cb63-5"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">scale =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb63-6"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>()) <span class="sc">+</span></span>
<span id="cb63-7"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#9C4BFF&quot;</span>, <span class="st">&quot;#00B3FF&quot;</span>)) <span class="sc">+</span></span>
<span id="cb63-8"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb63-9"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Humidity&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Reported bike rents&quot;</span>, <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb63-10"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Reported bike rents versus average humidity (day/night)&quot;</span>,</span>
<span id="cb63-11"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data: TfL (Transport for London), Jan 2015–Dec 2016&quot;</span></span>
<span id="cb63-12"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb63-13"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb63-14"><a href="tips-to-improve-your-ggplot-workflow.html#cb63-14" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<p><img src="bookdown_files/figure-html/06examplePlotThemeSet-1.png" width="864" /></p>
<p>Furthermore, you can customize the new default theme supplied to <code>theme_set()</code>:</p>
<ol style="list-style-type: decimal">
<li>Set the typeface for text elements and sizes of the theme elements when calling the complete theme.</li>
<li>Adjust theme elements and components of the complete theme via <code>theme_update()</code>.</li>
</ol>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(</span>
<span id="cb64-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">&quot;Asap Condensed&quot;</span>, <span class="at">base_size =</span> <span class="dv">15</span>)</span>
<span id="cb64-3"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb64-4"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-5"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_update</span>(</span>
<span id="cb64-6"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb64-7"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb64-8"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;grey40&quot;</span>)</span>
<span id="cb64-9"><a href="tips-to-improve-your-ggplot-workflow.html#cb64-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>[WIP]</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb65-1" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:06examplePlotThemeUpdate"></span>
<img src="bookdown_files/figure-html/06examplePlotThemeUpdate-1.png" alt="Running the same plot with updated theme defaults, globally set via `theme_update()`. This allows for a consistent style for all graphics without the need to write redundant code." width="864" />
<p class="caption">
FIGURE 6.1: Running the same plot with updated theme defaults, globally set via <code>theme_update()</code>. This allows for a consistent style for all graphics without the need to write redundant code.
</p>
</div>
</div>
<div id="create-your-own-theme" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Create Your Own Theme<a href="tips-to-improve-your-ggplot-workflow.html#create-your-own-theme" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>[WIP]</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-1" aria-hidden="true" tabindex="-1"></a>theme_custom <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">base_size =</span> <span class="dv">14</span>, <span class="at">base_family =</span> <span class="st">&quot;Asap Condensed&quot;</span>, </span>
<span id="cb66-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">base_line_size =</span> base_size<span class="sc">/</span><span class="dv">25</span>, <span class="at">base_rect_size =</span> base_size<span class="sc">/</span><span class="dv">25</span>,</span>
<span id="cb66-3"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">color_plot =</span> <span class="st">&quot;grey96&quot;</span>, <span class="at">color_panel =</span> <span class="st">&quot;white&quot;</span>) {</span>
<span id="cb66-4"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(</span>
<span id="cb66-5"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">base_size =</span> base_size, <span class="at">base_family =</span> base_family, </span>
<span id="cb66-6"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">base_line_size =</span> base_line_size, <span class="at">base_rect_size =</span> base_rect_size</span>
<span id="cb66-7"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%+replace%</span> </span>
<span id="cb66-8"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb66-9"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb66-10"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> color_plot),</span>
<span id="cb66-11"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> color_panel, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb66-12"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> color_plot, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb66-13"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.2</span>), <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb66-14"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-14" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="fu">rel</span>(<span class="dv">15</span>))), </span>
<span id="cb66-15"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>), <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb66-16"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;grey30&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(.<span class="dv">7</span>), <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb66-17"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-17" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="fu">rel</span>(<span class="dv">20</span>))),</span>
<span id="cb66-18"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>,</span>
<span id="cb66-19"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.caption.position =</span> <span class="st">&quot;plot&quot;</span>,</span>
<span id="cb66-20"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;grey40&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(.<span class="dv">8</span>)),</span>
<span id="cb66-21"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">complete =</span> <span class="cn">FALSE</span></span>
<span id="cb66-22"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb66-23"><a href="tips-to-improve-your-ggplot-workflow.html#cb66-23" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb67-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">theme_custom</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:06customThemeApplied"></span>
<img src="bookdown_files/figure-html/06customThemeApplied-1.png" alt="Applying our custom theme to the ggplot object from before." width="864" />
<p class="caption">
FIGURE 6.2: Applying our custom theme to the ggplot object from before.
</p>
</div>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb68-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span></span>
<span id="cb68-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_custom</span>(</span>
<span id="cb68-3"><a href="tips-to-improve-your-ggplot-workflow.html#cb68-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">base_size =</span> <span class="dv">16</span>, <span class="at">base_family =</span> <span class="st">&quot;Spline Sans&quot;</span>,</span>
<span id="cb68-4"><a href="tips-to-improve-your-ggplot-workflow.html#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">color_plot =</span> <span class="st">&quot;white&quot;</span>, <span class="at">color_panel =</span> <span class="st">&quot;antiquewhite&quot;</span></span>
<span id="cb68-5"><a href="tips-to-improve-your-ggplot-workflow.html#cb68-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb68-6"><a href="tips-to-improve-your-ggplot-workflow.html#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;goldenrod&quot;</span>))</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:06customThemeModified"></span>
<img src="bookdown_files/figure-html/06customThemeModified-1.png" alt="You can still overwrite the main settings and adjust single elements when using the custom theme." width="864" />
<p class="caption">
FIGURE 6.3: You can still overwrite the main settings and adjust single elements when using the custom theme.
</p>
</div>
</div>
<div id="improve-your-ggplot-design" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> Improve Your ggplot Design<a href="tips-to-improve-your-ggplot-workflow.html#improve-your-ggplot-design" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the following I want to share a quick tips how you customize the appearance of your graphics with a few additional lines of code. First, let’s create a plot to work with: we will display the counts of reported bike rents during the night only as a time series. To focus on the tips, we assign the ggplot output to <code>g</code> and extend this object in the following.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-3"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-4" aria-hidden="true" tabindex="-1"></a>bikes_nightly <span class="ot">&lt;-</span> <span class="fu">filter</span>(bikes, day_night <span class="sc">==</span> <span class="st">&quot;night&quot;</span>)</span>
<span id="cb69-5"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-6"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-6" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> </span>
<span id="cb69-7"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(bikes_nightly, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb69-8"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> temp), <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb69-9"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb69-10"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>(</span>
<span id="cb69-11"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">low =</span> <span class="st">&quot;#00B3FF&quot;</span>, <span class="at">high =</span> <span class="st">&quot;#FF5477&quot;</span>, </span>
<span id="cb69-12"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">&quot;°C&quot;</span>)</span>
<span id="cb69-13"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb69-14"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb69-15"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">&quot;Number of bike rents per night&quot;</span>, <span class="at">color =</span> <span class="st">&quot;Average Temperature:&quot;</span>,</span>
<span id="cb69-16"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;TfL bike rents peak during warm summer nights&quot;</span>,</span>
<span id="cb69-17"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data: TfL (Transport for London), Jan 2015–Dec 2016&quot;</span></span>
<span id="cb69-18"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb69-19"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-20"><a href="tips-to-improve-your-ggplot-workflow.html#cb69-20" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<p><img src="bookdown_files/figure-html/06basicPlot-1.png" width="864" /></p>
</div>
<div id="remove-panel-padding" class="section level2 hasAnchor" number="6.7">
<h2><span class="header-section-number">6.7</span> Remove Panel Padding<a href="tips-to-improve-your-ggplot-workflow.html#remove-panel-padding" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb70-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">expand =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-3-1.png" width="864" /></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb71-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">expand =</span> <span class="cn">FALSE</span>, <span class="at">clip =</span> <span class="st">&quot;off&quot;</span>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-4-1.png" width="864" /></p>
</div>
<div id="legend-styling-1" class="section level2 hasAnchor" number="6.8">
<h2><span class="header-section-number">6.8</span> Legend Styling<a href="tips-to-improve-your-ggplot-workflow.html#legend-styling-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb72-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_colorsteps</span>())</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-5-1.png" width="864" /></p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb73-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_colorsteps</span>(</span>
<span id="cb73-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb73-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">barwidth =</span> <span class="fu">unit</span>(<span class="dv">25</span>, <span class="st">&quot;lines&quot;</span>), <span class="at">title.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb73-3"><a href="tips-to-improve-your-ggplot-workflow.html#cb73-3" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb73-4"><a href="tips-to-improve-your-ggplot-workflow.html#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>, <span class="at">legend.justification =</span> <span class="st">&quot;left&quot;</span>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-6-1.png" width="864" /></p>
</div>
<div id="align-titles-and-captions-1" class="section level2 hasAnchor" number="6.9">
<h2><span class="header-section-number">6.9</span> Align Titles and Captions<a href="tips-to-improve-your-ggplot-workflow.html#align-titles-and-captions-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By default, the titles and captions are left-aligned with the horizontal justification being set to <code>hjust = 0</code>. However, the horizontal justification does only impact the alignment of the title relative to the panel. If you want to place these text elements relative to the outer border of your graphic. you can set <code>plot.title.position</code> <code>plot.caption.position</code> to <code>"plot"</code>, respectively</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb74-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>,</span>
<span id="cb74-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb74-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.caption.position =</span> <span class="st">&quot;plot&quot;</span>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/06titleAlign-1.png" width="864" /></p>
<p>The importance of aligning the title either with the panel border (the default behavior) or with the plot border becomes especially important if you have long labels on the left of the plot. This is often the case when displaying categories along the y axis with a left-aligned title (Fig. <a href="tips-to-improve-your-ggplot-workflow.html#fig:06barsTitlePosition">6.4</a>. The same applies for right-aligned text in case of increased margins on the right of the panel, for example when using facets or adding legends.</p>
<div class="figure"><span style="display:block;" id="fig:06barsTitlePosition"></span>
<img src="bookdown_files/figure-html/06barsTitlePosition-1.png" alt="Plots with long labels on the y axis with the title being either aligned with the panel border (default behavior, left) or with the plot border (right)." width="1344" />
<p class="caption">
FIGURE 6.4: Plots with long labels on the y axis with the title being either aligned with the panel border (default behavior, left) or with the plot border (right).
</p>
</div>
</div>
<div id="add-some-white-space-1" class="section level2 hasAnchor" number="6.10">
<h2><span class="header-section-number">6.10</span> Add Some White Space<a href="tips-to-improve-your-ggplot-workflow.html#add-some-white-space-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb75-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fu">rep</span>(<span class="dv">20</span>, <span class="dv">4</span>)))</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-7-1.png" width="864" /></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="tips-to-improve-your-ggplot-workflow.html#cb76-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">theme</span>(</span>
<span id="cb76-2"><a href="tips-to-improve-your-ggplot-workflow.html#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">15</span>)),</span>
<span id="cb76-3"><a href="tips-to-improve-your-ggplot-workflow.html#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">20</span>)),</span>
<span id="cb76-4"><a href="tips-to-improve-your-ggplot-workflow.html#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">10</span>)),</span>
<span id="cb76-5"><a href="tips-to-improve-your-ggplot-workflow.html#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">10</span>)),</span>
<span id="cb76-6"><a href="tips-to-improve-your-ggplot-workflow.html#cb76-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-8-1.png" width="864" /></p>

</div>
</div>



<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-camcorder" class="csl-entry">
Hughes, Ellis. 2022. <em>Camcorder: Record Your Plot History</em>. <a href="https://CRAN.R-project.org/package=camcorder">https://CRAN.R-project.org/package=camcorder</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="7">
<li id="fn7"><p>Note that the new YAML-styled <code>#| fig-width: 12</code> does not work and the <a href="https://github.com/rstudio/rstudio/issues/11708">width and height need to be specified in the <strong>knitr</strong> chunk options</a>.<a href="tips-to-improve-your-ggplot-workflow.html#fnref7" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tips-to-improve-your-ggplot-design.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-layers.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/bookdown-crc/edit/master/06-tips-workflow.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
